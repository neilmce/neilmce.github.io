<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World</title>
</head>
<body>
  <p>
  <label>Mongo OID</label>
    <input id="inputFeet"
           type="text" placeholder="OID"
           pattern="[a-fA-F0-9]{24}"
           oninput="display(this.value)"
           onchange="display(this.value)">
  </p>
  <p>Timestamp: <span id="timestamp"></span></p>
  <p>Machine ID: <span id="machine"></span></p>
  <p>Process ID: <span id="process"></span></p>
  <p>Counter: <span id="counter"></span></p>

  <script>
  function display(oid) {
      var data = {seconds: "",
                  machineId: "",
                  processId: "",
                  counter: ""};
      if (oid && oid.length && oid.length == 24) {
        data = destructure(oid);
      }
          
      document.getElementById("timestamp").innerHTML= toDate(data.seconds);
      document.getElementById("machine").innerHTML= data.machineId;
      document.getElementById("process").innerHTML= data.processId;
      document.getElementById("counter").innerHTML= data.counter;
  }
  
  function destructure(oid) {
    return {
        seconds: parseInt(oid.slice(0, 8), 16),
        machineId: parseInt(oid.slice(8, 14), 16),
        processId: parseInt(oid.slice(14, 18), 16),
        counter: parseInt(oid.slice(18, 24), 16)
    };
  }
      
  function toDate(seconds) {
      var d = new Date();
      d.setTime(seconds * 1000);
      return d;
  }
  </script>
</body>
</html>
